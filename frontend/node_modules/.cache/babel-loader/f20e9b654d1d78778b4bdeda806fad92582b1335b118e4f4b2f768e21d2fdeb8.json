{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Deamotis\\\\SF\\\\Silant\\\\frontend\\\\src\\\\components\\\\Maintenance\\\\Maintenance.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useContext } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './Maintenance.css';\nimport { getAllMachines, getClientsMachines, getServiceCompaniesMachines, getAllMaintenance, getClientsMaintenance, getServiceCompaniesMaintenance, getMaintenanceTypes, getAllServiceCompanies } from '../../api/dataService.js';\nimport serviceContext from '../../context/Context.js';\nimport { initialMaintenanceSortWay } from '../../utils/constants.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Maintenance = ({\n  group\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const carRef = useRef(null);\n  const serviceCompanyRef = useRef(null);\n  const maintenanceTypesRef = useRef(null);\n  const [currentData, setCurrentData] = useState([]);\n  const [allData, setAllData] = useState([]);\n  const [allCars, setAllCars] = useState([]);\n  const [allMaintenanceTypes, setAllMaintenanceTypes] = useState([]);\n  const [allServiceCompanies, setAllServiceCompanies] = useState([]);\n  const [userName, setUserName] = useState(localStorage.getItem('user'));\n  const [password, setPassword] = useState(localStorage.getItem('password'));\n  const [userId, setuserId] = useState(localStorage.getItem('id'));\n  const [sortWay, setSortWay] = useState(initialMaintenanceSortWay);\n  const {\n    pageId,\n    setPageId\n  } = useContext(serviceContext);\n  useEffect(() => {\n    if (group === '3') {\n      getAllMaintenance(setAllData, setCurrentData);\n    } else if (group === '1') {\n      getClientsMaintenance(userName, password, userId, setAllData, setCurrentData);\n    } else if (group === '2') {\n      getServiceCompaniesMaintenance(userName, password, setAllData, setCurrentData);\n    }\n    if (group === '3') {\n      getAllMachines(setAllCars);\n    } else if (group === '1') {\n      getClientsMachines(userName, password, userId, setAllCars);\n    } else if (group === '2') {\n      getServiceCompaniesMachines(userName, password, setAllCars);\n    }\n    getMaintenanceTypes(setAllMaintenanceTypes);\n    getAllServiceCompanies(setAllServiceCompanies);\n    setPageId(2);\n  }, []);\n  const handleAddMaintenance = () => {\n    navigate('add-maintenance');\n  };\n  const handleMachineFilter = e => {\n    if (e.target.value == 0) {\n      setCurrentData(allData);\n    } else {\n      const result = allData.filter(item => {\n        return item.car_id == e.target.value;\n      });\n      setCurrentData(result);\n    }\n    maintenanceTypesRef.current.selected = true;\n    if (group !== '2') {\n      serviceCompanyRef.current.selected = true;\n    }\n  };\n  const handleMaintenanceTypeFilter = e => {\n    if (e.target.value == 0) {\n      setCurrentData(allData);\n    } else {\n      const result = allData.filter(item => {\n        return item.maintenance_type_info.name == e.target.value;\n      });\n      setCurrentData(result);\n    }\n    carRef.current.selected = true;\n    if (group !== '2') {\n      serviceCompanyRef.current.selected = true;\n    }\n  };\n  const handleServiceCompanyFilter = e => {\n    if (e.target.value == 0) {\n      setCurrentData(allData);\n    } else {\n      const result = allData.filter(item => {\n        return item.service_company_info.name == e.target.value;\n      });\n      setCurrentData(result);\n    }\n    carRef.current.selected = true;\n    maintenanceTypesRef.current.selected = true;\n  };\n  const handleDetailedSort = e => {\n    const field = e.target.value;\n    const result = [...currentData];\n    if (sortWay[field] === '▽' || sortWay[field] === '-') {\n      setSortWay({\n        ...initialMaintenanceSortWay,\n        [field]: '△'\n      });\n    } else {\n      setSortWay({\n        ...initialMaintenanceSortWay,\n        [field]: '▽'\n      });\n    }\n    result.sort((a, b) => {\n      if (a[field]['name'] < b[field]['name']) {\n        return sortWay[field] == '△' ? 1 : -1;\n      }\n      if (a[field]['name'] > b[field]['name']) {\n        return sortWay[field] == '△' ? -1 : 1;\n      }\n      return 0;\n    });\n    setCurrentData(result);\n  };\n  const handleSimpleSort = e => {\n    const field = e.target.value;\n    const result = [...currentData];\n    if (sortWay[field] === '▽' || sortWay[field] === '-') {\n      setSortWay({\n        ...initialMaintenanceSortWay,\n        [field]: '△'\n      });\n    } else {\n      setSortWay({\n        ...initialMaintenanceSortWay,\n        [field]: '▽'\n      });\n    }\n    result.sort((a, b) => {\n      if (a[field] < b[field]) {\n        return sortWay[field] == '△' ? 1 : -1;\n      }\n      if (a[field] > b[field]) {\n        return sortWay[field] == '△' ? -1 : 1;\n      }\n      return 0;\n    });\n    setCurrentData(result);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"maintenance-info-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"maintenance-result-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0417\\u0430\\u0432. \\u2116 \\u043C\\u0430\\u0448\\u0438\\u043D\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0412\\u0438\\u0434 \\u0422\\u041E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F \\u0422\\u041E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041D\\u0430\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430, \\u043C/\\u0447\\u0430\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u2116 \\u0437\\u0430\\u043A\\u0430\\u0437-\\u043D\\u0430\\u0440\\u044F\\u0434\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0434\\u0430\\u0442\\u0430 \\u0437\\u0430\\u043A\\u0430\\u0437-\\u043D\\u0430\\u0440\\u044F\\u0434\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F, \\u043F\\u0440\\u043E\\u0432\\u043E\\u0434\\u0438\\u0432\\u0448\\u0430\\u044F \\u0422\\u041E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSimpleSort,\n              value: \"machine_id_details\",\n              children: sortWay['machine_id_details']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDetailedSort,\n              value: \"maintenance_type_info\",\n              children: sortWay['maintenance_type_info']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSimpleSort,\n              value: \"maintenance_date\",\n              children: sortWay['maintenance_date']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSimpleSort,\n              value: \"running_time\",\n              children: sortWay['running_time']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSimpleSort,\n              value: \"order_id\",\n              children: sortWay['order_id']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSimpleSort,\n              value: \"order_date\",\n              children: sortWay['order_date']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDetailedSort,\n              value: \"service_company_info\",\n              children: sortWay['service_company_info']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"maintenance-data-filter\",\n              onChange: handleMachineFilter,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                ref: carRef,\n                value: 0,\n                children: \"\\u0412\\u0441\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 9\n              }, this), getAllMachines.map(element => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: element.id,\n                  children: element.machine_id\n                }, element.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 11\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"maintenance-data-filter\",\n              onChange: handleMaintenanceTypeFilter,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                ref: maintenanceTypesRef,\n                value: 0,\n                children: \"\\u0412\\u0441\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 9\n              }, this), allMaintenanceTypes.map(element => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: element.name,\n                  children: element.name\n                }, element.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 11\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            className: \"empty-cell\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 7\n          }, this), group !== '2' ? /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"maintenance-data-filter\",\n              onChange: handleServiceCompanyFilter,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                ref: serviceCompanyRef,\n                value: 0,\n                children: \"\\u0412\\u0441\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 10\n              }, this), allServiceCompanies.map(element => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: element.name,\n                  children: element.name\n                }, element.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 12\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"empty-cell\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 6\n        }, this), currentData.map(element => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: element.machine_id_details\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `details/maintenance-types/${element.maintenance_type}`,\n                children: element.maintenance_type_info.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: element.maintenance_date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: element.running_time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: element.order_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: element.order_date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `details/service-companies/${element.service_company}`,\n                children: element.service_company_info.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 9\n            }, this)]\n          }, element.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 8\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0417\\u0430\\u0432. \\u2116 \\u043C\\u0430\\u0448\\u0438\\u043D\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0412\\u0438\\u0434 \\u0422\\u041E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F \\u0422\\u041E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041D\\u0430\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430, \\u043C/\\u0447\\u0430\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u2116 \\u0437\\u0430\\u043A\\u0430\\u0437-\\u043D\\u0430\\u0440\\u044F\\u0434\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0434\\u0430\\u0442\\u0430 \\u0437\\u0430\\u043A\\u0430\\u0437-\\u043D\\u0430\\u0440\\u044F\\u0434\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F, \\u043F\\u0440\\u043E\\u0432\\u043E\\u0434\\u0438\\u0432\\u0448\\u0430\\u044F \\u0422\\u041E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddMaintenance,\n      className: \"add-maintenance-btn\",\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E \\u0422\\u041E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 3\n  }, this);\n};\n_s(Maintenance, \"wvbp9c11IZ5tTiwstMFp0F5WA6Y=\", false, function () {\n  return [useNavigate];\n});\n_c = Maintenance;\nexport default Maintenance;\nvar _c;\n$RefreshReg$(_c, \"Maintenance\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","Link","useNavigate","getAllMachines","getClientsMachines","getServiceCompaniesMachines","getAllMaintenance","getClientsMaintenance","getServiceCompaniesMaintenance","getMaintenanceTypes","getAllServiceCompanies","serviceContext","initialMaintenanceSortWay","jsxDEV","_jsxDEV","Maintenance","group","_s","navigate","carRef","serviceCompanyRef","maintenanceTypesRef","currentData","setCurrentData","allData","setAllData","allCars","setAllCars","allMaintenanceTypes","setAllMaintenanceTypes","allServiceCompanies","setAllServiceCompanies","userName","setUserName","localStorage","getItem","password","setPassword","userId","setuserId","sortWay","setSortWay","pageId","setPageId","handleAddMaintenance","handleMachineFilter","e","target","value","result","filter","item","car_id","current","selected","handleMaintenanceTypeFilter","maintenance_type_info","name","handleServiceCompanyFilter","service_company_info","handleDetailedSort","field","sort","a","b","handleSimpleSort","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","ref","map","element","id","machine_id","colSpan","machine_id_details","to","maintenance_type","maintenance_date","running_time","order_id","order_date","service_company","_c","$RefreshReg$"],"sources":["C:/Users/Deamotis/SF/Silant/frontend/src/components/Maintenance/Maintenance.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport './Maintenance.css'\r\nimport {\r\n\tgetAllMachines,\r\n\tgetClientsMachines,\r\n\tgetServiceCompaniesMachines,\r\n\tgetAllMaintenance,\r\n\tgetClientsMaintenance,\r\n\tgetServiceCompaniesMaintenance,\r\n\tgetMaintenanceTypes,\r\n\tgetAllServiceCompanies,\r\n} from '../../api/dataService.js'\r\nimport serviceContext from '../../context/Context.js'\r\nimport { initialMaintenanceSortWay } from '../../utils/constants.js'\r\n\r\nconst Maintenance = ({ group }) => {\r\n\tconst navigate = useNavigate()\r\n\tconst carRef = useRef(null)\r\n\tconst serviceCompanyRef = useRef(null)\r\n\tconst maintenanceTypesRef = useRef(null)\r\n\tconst [currentData, setCurrentData] = useState([])\r\n\tconst [allData, setAllData] = useState([])\r\n\tconst [allCars, setAllCars] = useState([])\r\n\tconst [allMaintenanceTypes, setAllMaintenanceTypes] = useState([])\r\n\tconst [allServiceCompanies, setAllServiceCompanies] = useState([])\r\n\tconst [userName, setUserName] = useState(localStorage.getItem('user'))\r\n\tconst [password, setPassword] = useState(localStorage.getItem('password'))\r\n\tconst [userId, setuserId] = useState(localStorage.getItem('id'))\r\n\tconst [sortWay, setSortWay] = useState(initialMaintenanceSortWay)\r\n\tconst { pageId, setPageId } = useContext(serviceContext)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (group === '3') {\r\n\t\t\tgetAllMaintenance(setAllData, setCurrentData)\r\n\t\t} else if (group === '1') {\r\n\t\t\tgetClientsMaintenance(\r\n\t\t\t\tuserName,\r\n\t\t\t\tpassword,\r\n\t\t\t\tuserId,\r\n\t\t\t\tsetAllData,\r\n\t\t\t\tsetCurrentData\r\n\t\t\t)\r\n\t\t} else if (group === '2') {\r\n\t\t\tgetServiceCompaniesMaintenance(\r\n\t\t\t\tuserName,\r\n\t\t\t\tpassword,\r\n\t\t\t\tsetAllData,\r\n\t\t\t\tsetCurrentData\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (group === '3') {\r\n\t\t\tgetAllMachines(setAllCars)\r\n\t\t} else if (group === '1') {\r\n\t\t\tgetClientsMachines(userName, password, userId, setAllCars)\r\n\t\t} else if (group === '2') {\r\n\t\t\tgetServiceCompaniesMachines(userName, password, setAllCars)\r\n\t\t}\r\n\t\tgetMaintenanceTypes(setAllMaintenanceTypes)\r\n\t\tgetAllServiceCompanies(setAllServiceCompanies)\r\n\t\tsetPageId(2)\r\n\t}, [])\r\n\r\n\tconst handleAddMaintenance = () => {\r\n\t\tnavigate('add-maintenance')\r\n\t}\r\n\r\n\tconst handleMachineFilter = e => {\r\n\t\tif (e.target.value == 0) {\r\n\t\t\tsetCurrentData(allData)\r\n\t\t} else {\r\n\t\t\tconst result = allData.filter(item => {\r\n\t\t\t\treturn item.car_id == e.target.value\r\n\t\t\t})\r\n\t\t\tsetCurrentData(result)\r\n\t\t}\r\n\t\tmaintenanceTypesRef.current.selected = true\r\n\t\tif (group !== '2') {\r\n\t\t\tserviceCompanyRef.current.selected = true\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleMaintenanceTypeFilter = e => {\r\n\t\tif (e.target.value == 0) {\r\n\t\t\tsetCurrentData(allData)\r\n\t\t} else {\r\n\t\t\tconst result = allData.filter(item => {\r\n\t\t\t\treturn item.maintenance_type_info.name == e.target.value\r\n\t\t\t})\r\n\t\t\tsetCurrentData(result)\r\n\t\t}\r\n\t\tcarRef.current.selected = true\r\n\t\tif (group !== '2') {\r\n\t\t\tserviceCompanyRef.current.selected = true\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleServiceCompanyFilter = e => {\r\n\t\tif (e.target.value == 0) {\r\n\t\t\tsetCurrentData(allData)\r\n\t\t} else {\r\n\t\t\tconst result = allData.filter(item => {\r\n\t\t\t\treturn item.service_company_info.name == e.target.value\r\n\t\t\t})\r\n\t\t\tsetCurrentData(result)\r\n\t\t}\r\n\t\tcarRef.current.selected = true\r\n\t\tmaintenanceTypesRef.current.selected = true\r\n\t}\r\n\r\n\tconst handleDetailedSort = e => {\r\n\t\tconst field = e.target.value\r\n\t\tconst result = [...currentData]\r\n\t\tif (sortWay[field] === '▽' || sortWay[field] === '-') {\r\n\t\t\tsetSortWay({ ...initialMaintenanceSortWay, [field]: '△' })\r\n\t\t} else {\r\n\t\t\tsetSortWay({ ...initialMaintenanceSortWay, [field]: '▽' })\r\n\t\t}\r\n\t\tresult.sort((a, b) => {\r\n\t\t\tif (a[field]['name'] < b[field]['name']) {\r\n\t\t\t\treturn sortWay[field] == '△' ? 1 : -1\r\n\t\t\t}\r\n\t\t\tif (a[field]['name'] > b[field]['name']) {\r\n\t\t\t\treturn sortWay[field] == '△' ? -1 : 1\r\n\t\t\t}\r\n\t\t\treturn 0\r\n\t\t})\r\n\t\tsetCurrentData(result)\r\n\t}\r\n\r\n\tconst handleSimpleSort = e => {\r\n\t\tconst field = e.target.value\r\n\t\tconst result = [...currentData]\r\n\t\tif (sortWay[field] === '▽' || sortWay[field] === '-') {\r\n\t\t\tsetSortWay({ ...initialMaintenanceSortWay, [field]: '△' })\r\n\t\t} else {\r\n\t\t\tsetSortWay({ ...initialMaintenanceSortWay, [field]: '▽' })\r\n\t\t}\r\n\t\tresult.sort((a, b) => {\r\n\t\t\tif (a[field] < b[field]) {\r\n\t\t\t\treturn sortWay[field] == '△' ? 1 : -1\r\n\t\t\t}\r\n\t\t\tif (a[field] > b[field]) {\r\n\t\t\t\treturn sortWay[field] == '△' ? -1 : 1\r\n\t\t\t}\r\n\t\t\treturn 0\r\n\t\t})\r\n\t\tsetCurrentData(result)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='maintenance-info-container'>\r\n\t\t\t<table className='maintenance-result-table'>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Зав. № машины</th>\r\n\t\t\t\t\t\t<th>Вид ТО</th>\r\n\t\t\t\t\t\t<th>Дата проведения ТО</th>\r\n\t\t\t\t\t\t<th>Наработка, м/час</th>\r\n\t\t\t\t\t\t<th>№ заказ-наряда</th>\r\n\t\t\t\t\t\t<th>дата заказ-наряда</th>\r\n\t\t\t\t\t\t<th>Организация, проводившая ТО</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button onClick={handleSimpleSort} value='machine_id_details'>\r\n\t\t\t\t\t\t\t\t{sortWay['machine_id_details']}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={handleDetailedSort}\r\n\t\t\t\t\t\t\t\tvalue='maintenance_type_info'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{sortWay['maintenance_type_info']}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button onClick={handleSimpleSort} value='maintenance_date'>\r\n\t\t\t\t\t\t\t\t{sortWay['maintenance_date']}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button onClick={handleSimpleSort} value='running_time'>\r\n\t\t\t\t\t\t\t\t{sortWay['running_time']}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button onClick={handleSimpleSort} value='order_id'>\r\n\t\t\t\t\t\t\t\t{sortWay['order_id']}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button onClick={handleSimpleSort} value='order_date'>\r\n\t\t\t\t\t\t\t\t{sortWay['order_date']}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button onClick={handleDetailedSort} value='service_company_info'>\r\n\t\t\t\t\t\t\t\t{sortWay['service_company_info']}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclassName='maintenance-data-filter'\r\n\t\t\t\t\t\t\t\tonChange={handleMachineFilter}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option ref={carRef} value={0}>\r\n\t\t\t\t\t\t\t\t\tВсе\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t{getAllMachines.map(element => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option key={element.id} value={element.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t{element.machine_id}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclassName='maintenance-data-filter'\r\n\t\t\t\t\t\t\t\tonChange={handleMaintenanceTypeFilter}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option ref={maintenanceTypesRef} value={0}>\r\n\t\t\t\t\t\t\t\t\tВсе\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t{allMaintenanceTypes.map(element => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option key={element.id} value={element.name}>\r\n\t\t\t\t\t\t\t\t\t\t\t{element.name}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td colSpan={4} className='empty-cell'></td>\r\n\t\t\t\t\t\t{group !== '2' ? (\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclassName='maintenance-data-filter'\r\n\t\t\t\t\t\t\t\t\tonChange={handleServiceCompanyFilter}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option ref={serviceCompanyRef} value={0}>\r\n\t\t\t\t\t\t\t\t\t\tВсе\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t{allServiceCompanies.map(element => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={element.id} value={element.name}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{element.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<td className='empty-cell'></td>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t{currentData.map(element => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr key={element.id}>\r\n\t\t\t\t\t\t\t\t<td>{element.machine_id_details}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={`details/maintenance-types/${element.maintenance_type}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{element.maintenance_type_info.name}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>{element.maintenance_date}</td>\r\n\t\t\t\t\t\t\t\t<td>{element.running_time}</td>\r\n\t\t\t\t\t\t\t\t<td>{element.order_id}</td>\r\n\t\t\t\t\t\t\t\t<td>{element.order_date}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={`details/service-companies/${element.service_company}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{element.service_company_info.name}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</tbody>\r\n\t\t\t\t<tfoot>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Зав. № машины</th>\r\n\t\t\t\t\t\t<th>Вид ТО</th>\r\n\t\t\t\t\t\t<th>Дата проведения ТО</th>\r\n\t\t\t\t\t\t<th>Наработка, м/час</th>\r\n\t\t\t\t\t\t<th>№ заказ-наряда</th>\r\n\t\t\t\t\t\t<th>дата заказ-наряда</th>\r\n\t\t\t\t\t\t<th>Организация, проводившая ТО</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tfoot>\r\n\t\t\t</table>\r\n\t\t\t<button onClick={handleAddMaintenance} className='add-maintenance-btn'>\r\n\t\t\t\tДобавить данные о ТО\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Maintenance"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}